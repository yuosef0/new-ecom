# ๐ ุดุฑุญ OAuth Code ูู URL

## ูุง ูุญุฏุซ

ุนูุฏูุง ุชุณุฌู ุฏุฎููุ ุชุญุฏุซ ูุฐู ุงูุฎุทูุงุช:

```
1. ุชุถุบุท "Sign In"
   โ
2. Supabase ูุฑุณูู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
   โ
3. ุชุฏุฎู Email/Password
   โ
4. Supabase ูุญููู ุฅูู:
   http://localhost:3000/?code=a3e88581-40c3-47c7-9f15-bf586cd9d39b
   โ
5. ุงูููุฏ ูุชู ุชุจุฏููู ุจู session
   โ
6. ูุชู ุชุญูููู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

---

## ููุงุฐุง ูุธูุฑ ุงูู Codeุ

ูุฐุง ูู **OAuth 2.0 Authorization Code Flow**:

- โ **ุทุจูุนู ุชูุงูุงู** - ูุฐุง ูู ุงููุนูุงุฑ ุงูุฃููู
- โ **ุขูู** - ุงูู code ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท
- โ **ูุคูุช** - ูุฎุชูู ุจุนุฏ ุงูุชุญููู

---

## ูู ูุฐุง ูุดููุฉุ

**ูุง! โ** 

- ุงูููุฏ ูุธูุฑ ูุซุงููุฉ ูุงุญุฏุฉ ููุท
- ูุชู ุชุจุฏููู ุจู session ููุฑุงู
- ุซู ูุชู redirect ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
- ูุฐุง ูุญุฏุซ ูู ุฌููุน ุงูููุงูุน ุงูุชู ุชุณุชุฎุฏู OAuth

---

## ุฅุฐุง ุฃุฑุฏุช ุฅุฎูุงุกู ุชูุงูุงู

ููููู ุฅุถุงูุฉ client-side cleanup:

### ุงูุญู: ุฅุถุงูุฉ Script ูู Layout

ุฃุถู ูุฐุง ูู `src/app/layout.tsx`:

```typescript
// ูู <body>
<script dangerouslySetInnerHTML={{
  __html: `
    // Clean OAuth code from URL
    if (window.location.search.includes('code=')) {
      window.history.replaceState({}, document.title, window.location.pathname);
    }
  `
}} />
```

---

## ุงูุญู ุงูุฃูุถู: ุงุณุชุฎุฏุงู PKCE Flow

ูู ุงููุณุชูุจูุ ููููู ุงุณุชุฎุฏุงู PKCE ุจุฏูุงู ูู Authorization Code:

```typescript
// ูู login page
const { data, error } = await supabase.auth.signInWithPassword({
  email,
  password,
  options: {
    // ุณูุณุชุฎุฏู session ูุจุงุดุฑุฉ ุจุฏูู code
    redirectTo: undefined
  }
});

// ุซู redirect ูุฏููุงู
if (!error) {
  router.push('/');
}
```

---

## ุงูุฎูุงุตุฉ

**ุงููุถุน ุงูุญุงูู:**
- โ ูุนูู ุจุดูู ุตุญูุญ
- โ ุขูู
- โ ูุชุจุน ุงููุนุงููุฑ

**ุงูู Code ูู URL:**
- โ ุทุจูุนู
- โ ูุคูุช (ุซุงููุฉ ูุงุญุฏุฉ)
- โ ูุง ูุคุซุฑ ุนูู ุงูุฃูุงู

**ุงูุชูุตูุฉ:**
- ุงุชุฑูู ููุง ูู - ูุฐุง ูู ุงูุทุฑููุฉ ุงูุตุญูุญุฉ
- ุฅุฐุง ุฃุฒุนุฌูุ ุงุณุชุฎุฏู ุงูุญู ุฃุนูุงู

---

## ูุซุงู ูู ููุงูุน ุดููุฑุฉ

ุฌููุน ูุฐู ุงูููุงูุน ุชุณุชุฎุฏู ููุณ ุงูุทุฑููุฉ:
- Google OAuth: `?code=4/0AY0e-g7...`
- GitHub OAuth: `?code=abc123...`
- Facebook OAuth: `?code=xyz789...`

**ูุฐุง ูู ุงููุนูุงุฑ! โ**

---

**ูุง ุฏุงุนู ููููู - ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ!** ๐
