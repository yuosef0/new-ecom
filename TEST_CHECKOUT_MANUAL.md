# ๐งช ุฏููู ุงุฎุชุจุงุฑ ุนูููุฉ ุงูุชุณูู ุงููุงููุฉ

ูุฐุง ุงูุฏููู ูุณุงุนุฏู ุนูู ุงุฎุชุจุงุฑ ุนูููุฉ ุงูุชุณูู ูู ุงูุจุฏุงูุฉ ููููุงูุฉ.

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### 1๏ธโฃ ุชุดุบูู ุงูุณูุฑูุฑ

ุชุฃูุฏ ูู ุฃู ุงูุณูุฑูุฑ ูุนูู:

```bash
npm run dev
```

ูุฌุจ ุฃู ุชุฑู:
```
โฒ Next.js 16.1.1 (Turbopack)
- Local:        http://localhost:3000
```

---

### 2๏ธโฃ ูุชุญ ุงููููุน

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
http://localhost:3000
```

---

### 3๏ธโฃ ุงูุจุญุซ ุนู ููุชุฌ

**ุงูุฎูุงุฑ ุฃ: ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**
- ุงุจุญุซ ุนู ูุณู ุงูููุชุฌุงุช
- ุงุถุบุท ุนูู ุฃู ููุชุฌ ูุชุงุญ

**ุงูุฎูุงุฑ ุจ: ูู ุตูุญุฉ ุงูููุชุฌุงุช**
- ุงุฐูุจ ุฅูู `/products`
- ุงุฎุชุฑ ููุชุฌ ูู ุงููุงุฆูุฉ

---

### 4๏ธโฃ ุฅุถุงูุฉ ุงูููุชุฌ ููุณูุฉ

ูู ุตูุญุฉ ุชูุงุตูู ุงูููุชุฌ:

1. โ ุงุฎุชุฑ ุงูููุงุณ (Size) ุฅุฐุง ูุงู ูุชุงุญุงู
2. โ ุงุฎุชุฑ ุงูููู (Color) ุฅุฐุง ูุงู ูุชุงุญุงู
3. โ ุงุฎุชุฑ ุงููููุฉ (Quantity)
4. โ ุงุถุบุท ุนูู "Add to Cart" ุฃู "ุฃุถู ููุณูุฉ"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฑุณุงูุฉ ุชุฃููุฏ "ุชูุช ุงูุฅุถุงูุฉ ููุณูุฉ"
- โ ุนุฏุงุฏ ุงูุณูุฉ ูุฒูุฏ

---

### 5๏ธโฃ ุงูุฐูุงุจ ุฅูู ุงูุณูุฉ

ุงุถุบุท ุนูู ุฃููููุฉ ุงูุณูุฉ ูู ุงูุฃุนูู ุฃู ุงุฐูุจ ุฅูู:
```
http://localhost:3000/cart
```

**ุชุญูู ูู:**
- โ ุงูููุชุฌ ููุฌูุฏ ูู ุงูุณูุฉ
- โ ุงูุณุนุฑ ุตุญูุญ
- โ ุงููููุฉ ุตุญูุญุฉ
- โ ููููู ุชุนุฏูู ุงููููุฉ
- โ ููููู ุญุฐู ุงูููุชุฌ

---

### 6๏ธโฃ ุงูุงูุชูุงู ููุฏูุน (Checkout)

ุงุถุบุท ุนูู ุฒุฑ "Checkout" ุฃู "ุฅุชูุงู ุงูุทูุจ"

ุณูุชู ุชุญูููู ุฅูู:
```
http://localhost:3000/checkout
```

---

### 7๏ธโฃ ููุก ุจูุงูุงุช ุงูุดุญู

ุงููุฃ ุงููููุฐุฌ ุจุงูุจูุงูุงุช ุงูุชุงููุฉ:

```
Email: test@example.com
Full Name: Ahmed Mohamed
Phone Number: 01012345678
Governorate: Cairo
City: Nasr City
Street Address: 123 Test Street
Apartment (Optional): Apt 5
```

**ุชุญูู ูู:**
- โ ุฌููุน ุงูุญููู ุงููุทููุจุฉ (*) ุชุนูู
- โ Validation ูุนูู (ุฌุฑุจ ุฅุฏุฎุงู ุจูุงูุงุช ุฎุงุทุฆุฉ)
- โ ุฑูู ุงููุงุชู ููุจู ุงูุตูุบุฉ ุงููุตุฑูุฉ

---

### 8๏ธโฃ ุงูุงูุชูุงู ูุฎุทูุฉ ุงูุฏูุน

ุงุถุบุท ุนูู "CONTINUE TO PAYMENT"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุงูุชูุงู ููุฎุทูุฉ ุงูุซุงููุฉ
- โ ุธููุฑ ููุฎุต ุจูุงูุงุช ุงูุดุญู
- โ ุธููุฑ ุฎูุงุฑุงุช ุงูุฏูุน

---

### 9๏ธโฃ ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน

ูุฏูู ุฎูุงุฑุงู:

#### ุฃ) ุจุทุงูุฉ ุงูุงุฆุชูุงู/ุงูุฎุตู (Credit/Debit Card)

ุงุฎุชุฑ "Credit/Debit Card"

**ุชุญูู ูู:**
- โ ุงูุฎูุงุฑ ูุญุฏุฏ
- โ ุธููุฑ ูุต "Secure payment via Paymob"

#### ุจ) ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (Cash on Delivery)

ุงุฎุชุฑ "Cash on Delivery"

**ุชุญูู ูู:**
- โ ุงูุฎูุงุฑ ูุญุฏุฏ
- โ ุธููุฑ ูุต "Pay when you receive your order"

---

### ๐ ูุฑุงุฌุนุฉ ุงูุทูุจ

ุชุญูู ูู Order Summary:

```
โ ุงูููุชุฌุงุช ุตุญูุญุฉ
โ ุงููููุงุช ุตุญูุญุฉ
โ Subtotal ุตุญูุญ
โ Shipping Cost ุธุงูุฑ (50 EGP ููู standard)
โ Total ุตุญูุญ
```

---

### 1๏ธโฃ1๏ธโฃ ุฅุชูุงู ุงูุทูุจ (PLACE ORDER)

ุงุถุบุท ุนูู ุฒุฑ "PLACE ORDER"

---

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุฅุฐุง ุงุฎุชุฑุช Credit/Debit Card:

1. โ ูุธูุฑ "PROCESSING..."
2. โ ูุชู ุงูุชุญููู ุฅูู ุตูุญุฉ Paymob
3. โ URL ูุจุฏุฃ ุจู `https://accept.paymob.com/api/acceptance/iframes/`
4. โ ุชุธูุฑ ุตูุญุฉ ุฅุฏุฎุงู ุจูุงูุงุช ุงูุจุทุงูุฉ

**ูู ุตูุญุฉ Paymob:**

ุงุณุชุฎุฏู ุจุทุงูุฉ ุงูุงุฎุชุจุงุฑ:
```
Card Number: 4987654321098769
CVV: 123
Expiry Date: 12/25
Cardholder Name: Ahmed Mohamed
```

5. โ ุงูุฏูุน ูุชู ุจูุฌุงุญ
6. โ ูุชู ุงูุชุญููู ูุตูุญุฉ ุงูุชุฃููุฏ
7. โ ุงูุณูุฉ ุชูุฑุบ ุชููุงุฆูุงู

### ุฅุฐุง ุงุฎุชุฑุช Cash on Delivery:

1. โ ูุธูุฑ "PROCESSING..."
2. โ ูุชู ุงูุชุญููู ูุจุงุดุฑุฉ ูุตูุญุฉ ุงูุชุฃููุฏ
3. โ ูุง ูุชู ุงูุชุญููู ูู Paymob
4. โ ุงูุณูุฉ ุชูุฑุบ ุชููุงุฆูุงู

---

## โ ุงูุฃุฎุทุงุก ุงููุญุชููุฉ ูุญููููุง

### ุฎุทุฃ: "Cart is empty"

**ุงูุณุจุจ:** ุงูุณูุฉ ูุงุฑุบุฉ
**ุงูุญู:** ุฃุถู ููุชุฌ ููุณูุฉ ุฃููุงู

---

### ุฎุทุฃ: "Product not found"

**ุงูุณุจุจ:** ุงูููุชุฌ ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:** 
1. ุชุญูู ูู ูุฌูุฏ ููุชุฌุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุฃูุฏ ูู ุฃู `is_active = true`

---

### ุฎุทุฃ: "Out of stock"

**ุงูุณุจุจ:** ุงูููุชุฌ ุฃู ุงูู variant ููุฐ ูู ุงููุฎุฒูู
**ุงูุญู:**
1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู ุฌุฏูู `product_variants`
3. ุญุฏุซ `stock_quantity` ููููุฉ ุฃูุจุฑ ูู 0

---

### ุฎุทุฃ: "Internal server error" ุนูุฏ PLACE ORDER

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

#### 1. ูุดููุฉ ูู Paymob API Keys

**ุงูุญู:**
```bash
# ุชุญูู ูู .env.local
cat .env.local | grep PAYMOB
```

ุชุฃูุฏ ูู:
- โ `PAYMOB_API_KEY` ููุฌูุฏ
- โ `PAYMOB_INTEGRATION_ID` ููุฌูุฏ
- โ `PAYMOB_IFRAME_ID` ููุฌูุฏ

#### 2. ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุญู:**
ุงูุชุญ Browser Console (F12) ูุดุงูุฏ ุงูุฎุทุฃ ุงูุชูุตููู

#### 3. ูุดููุฉ ูู ุงูู validation

**ุงูุญู:**
ุชุญูู ูู Terminal logs ุญูุซ ูุนูู `npm run dev`

---

### ุฎุทุฃ: "Failed to authenticate with Paymob"

**ุงูุณุจุจ:** API Key ุบูุฑ ุตุญูุญ
**ุงูุญู:**
1. ุฑุงุฌุน `PAYMOB_API_KEY` ูู `.env.local`
2. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู Test API Key
3. ุงุญุตู ุนูู API Key ุฌุฏูุฏ ูู [Paymob Portal](https://accept.paymob.com/portal2/en/developer)

---

### ุฎุทุฃ: "Invalid integration ID"

**ุงูุณุจุจ:** Integration ID ุบูุฑ ุตุญูุญ
**ุงูุญู:**
1. ุฑุงุฌุน `PAYMOB_INTEGRATION_ID` ูู `.env.local`
2. ุชุฃูุฏ ูู ุฃู Integration ููุนู ูู Paymob Portal

---

## ๐ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุชุญูู ูู ูุฌูุฏ ููุชุฌุงุช

```sql
-- ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช ุงููุดุทุฉ
SELECT id, name, base_price, is_active
FROM products
WHERE is_active = true
LIMIT 10;
```

### ุงูุชุญูู ูู ุงูู variants

```sql
-- ุนุฑุถ variants ูุน ุงููุฎุฒูู
SELECT 
  pv.id,
  p.name as product_name,
  s.name as size,
  c.name as color,
  pv.stock_quantity,
  pv.is_active
FROM product_variants pv
JOIN products p ON pv.product_id = p.id
LEFT JOIN sizes s ON pv.size_id = s.id
LEFT JOIN colors c ON pv.color_id = c.id
WHERE pv.is_active = true
LIMIT 10;
```

### ุงูุชุญูู ูู ุงูุทูุจุงุช

```sql
-- ุนุฑุถ ุขุฎุฑ ุงูุทูุจุงุช
SELECT 
  order_number,
  status,
  payment_status,
  payment_method,
  total,
  created_at
FROM orders
ORDER BY created_at DESC
LIMIT 5;
```

---

## ๐ Checklist ุงูุงุฎุชุจุงุฑ

ุงุณุชุฎุฏู ูุฐุง ุงูู checklist ููุชุฃูุฏ ูู ุงุฎุชุจุงุฑ ูู ุดูุก:

### ุงูููุชุฌุงุช
- [ ] ูููู ุนุฑุถ ุงูููุชุฌุงุช
- [ ] ูููู ูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูููุชุฌ
- [ ] ุงูุตูุฑ ุชุธูุฑ ุจุดูู ุตุญูุญ
- [ ] ุงูุณุนุฑ ูุธูุฑ ุจุดูู ุตุญูุญ

### ุงูุณูุฉ
- [ ] ูููู ุฅุถุงูุฉ ููุชุฌ ููุณูุฉ
- [ ] ูููู ุชุนุฏูู ุงููููุฉ
- [ ] ูููู ุญุฐู ููุชุฌ
- [ ] ุงููุฌููุน ูุญุณุจ ุจุดูู ุตุญูุญ
- [ ] ุนุฏุงุฏ ุงูุณูุฉ ูุนูู

### Checkout - ุงูุดุญู
- [ ] ุงููููุฐุฌ ูุธูุฑ ุจุดูู ุตุญูุญ
- [ ] Validation ูุนูู
- [ ] ูููู ุงุฎุชูุงุฑ Governorate
- [ ] ูููู ุฅุฏุฎุงู ุฌููุน ุงูุจูุงูุงุช
- [ ] ุฒุฑ "CONTINUE TO PAYMENT" ูุนูู

### Checkout - ุงูุฏูุน
- [ ] ุจูุงูุงุช ุงูุดุญู ุชุธูุฑ ุจุดูู ุตุญูุญ
- [ ] ูููู ุชุนุฏูู ุจูุงูุงุช ุงูุดุญู
- [ ] Order Summary ุตุญูุญ
- [ ] ูููู ุงุฎุชูุงุฑ Card
- [ ] ูููู ุงุฎุชูุงุฑ COD

### ุฅุชูุงู ุงูุทูุจ - Card
- [ ] ุฒุฑ "PLACE ORDER" ูุนูู
- [ ] ูุชู ุงูุชุญููู ูู Paymob
- [ ] ูููู ุฅุฏุฎุงู ุจูุงูุงุช ุงูุจุทุงูุฉ
- [ ] ุงูุฏูุน ูุชู ุจูุฌุงุญ
- [ ] ูุชู ุงูุชุญููู ูุตูุญุฉ ุงูุชุฃููุฏ
- [ ] ุงูุณูุฉ ุชูุฑุบ

### ุฅุชูุงู ุงูุทูุจ - COD
- [ ] ุฒุฑ "PLACE ORDER" ูุนูู
- [ ] ูุชู ุงูุชุญููู ูุตูุญุฉ ุงูุชุฃููุฏ ูุจุงุดุฑุฉ
- [ ] ุงูุณูุฉ ุชูุฑุบ
- [ ] ุงูุทูุจ ูุธูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุงูุทูุจ ุชู ุฅูุดุงุคู
- [ ] Order items ุชู ุฅูุดุงุคูุง
- [ ] Payment status ุตุญูุญ
- [ ] Paymob order ID ุชู ุญูุธู (ููู Card)

---

## ๐ฌ ููุฏูู ุชูุถูุญู

ุฅุฐุง ููุช ุชุฑูุฏ ุชุณุฌูู ููุฏูู ููุงุฎุชุจุงุฑ:

1. ุงุณุชุฎุฏู OBS ุฃู ุฃู ุจุฑูุงูุฌ ุชุณุฌูู ุดุงุดุฉ
2. ุณุฌู ูู ุงูุฎุทูุงุช ูู ุงูุจุฏุงูุฉ ููููุงูุฉ
3. ุงุญูุธ ุงูููุฏูู ูููุฑุงุฌุนุฉ ูุงุญูุงู

---

## ๐ ุงูุญุตูู ุนูู ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุฑุงุฌุน Terminal Logs:**
   ```bash
   # ูู terminal ุญูุซ ูุนูู npm run dev
   # ุงุจุญุซ ุนู ุฃู ุฃุฎุทุงุก ุญูุฑุงุก
   ```

2. **ุฑุงุฌุน Browser Console:**
   ```
   F12 โ Console
   # ุงุจุญุซ ุนู ุฃุฎุทุงุก JavaScript
   ```

3. **ุฑุงุฌุน Network Tab:**
   ```
   F12 โ Network
   # ุฑุงูุจ API calls
   # ุงุจุญุซ ุนู requests ูุงุดูุฉ (ุญูุฑุงุก)
   ```

4. **ุฑุงุฌุน ุงูุชูุซูู:**
   - [PAYMOB_TESTING.md](./PAYMOB_TESTING.md)
   - [PAYMOB_SETUP.md](./PAYMOB_SETUP.md)

---

**ุญุธุงู ููููุงู ูู ุงูุงุฎุชุจุงุฑ! ๐**
